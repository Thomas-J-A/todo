(()=>{let e={programming:[{title:"Learn React",description:"Begin Youtube tutorials",dueDate:"2021-04-2",priority:"medium",isComplete:!1},{title:"Todo app",description:"Finish styles and storage functionality",dueDate:"2021-03-31",priority:"high",isComplete:!1}],housework:[{title:"Wash dishes",description:"Wash all dishes in kitchen sink",dueDate:"2021-03-30",priority:"high",isComplete:!1}]};const t={sidebarChevron:document.getElementById("sidebar_chevron"),projectList:document.getElementById("sidebar_project-list"),taskList:document.getElementById("main_task-list"),mainTitle:document.getElementById("main_title"),addProjectBtn:document.getElementById("sidebar_add-project"),addTaskBtn:document.getElementById("main_add-task"),modalAddProject:document.getElementById("modal_add-project"),modalAddTask:document.getElementById("modal_add-task"),modalAddProjectClose:document.getElementById("modal_add-project-close"),modalAddTaskClose:document.getElementById("modal_add-task-close"),projectForm:document.getElementById("form-project"),taskForm:document.getElementById("form-task")},d=(()=>{function d(){const d=Object.keys(e);for(let e=0;e<d.length;e++){const a=document.createElement("li"),i=document.createElement("span"),o=document.createElement("i");i.classList.add("sidebar_project-list-name"),i.textContent=d[e],i.addEventListener("click",s),o.classList.add("fas"),o.classList.add("fa-times"),o.addEventListener("click",n),a.appendChild(i),a.appendChild(o),t.projectList.appendChild(a)}}function s(e){t.mainTitle.textContent=e.target.textContent,a.clearElement(t.taskList),i()}function n(s){const n=s.target.previousSibling.textContent;delete e[n],a.clearElement(t.projectList),d()}function i(){const d=t.mainTitle.textContent,a=e[d];for(let e=0;e<a.length;e++){const d=document.createElement("li"),s=document.createElement("div"),n=document.createElement("div"),i=document.createElement("span"),c=document.createElement("span"),r=document.createElement("i"),m=document.createElement("i"),p=document.createElement("p");d.setAttribute("data-index",e),"low"===a[e].priority?s.classList.add("priority-low"):"medium"===a[e].priority?s.classList.add("priority-medium"):s.classList.add("priority-high"),a[e].isComplete?n.classList.add("checked"):n.classList.add("unchecked"),i.textContent=a[e].title,c.textContent=a[e].dueDate,r.classList.add("fas"),r.classList.add("fa-trash-alt"),r.addEventListener("click",l),m.classList.add("fas"),m.classList.add("fa-chevron-down"),m.addEventListener("click",o),p.classList.add("description"),p.textContent=a[e].description,s.appendChild(n),s.appendChild(i),s.appendChild(c),s.appendChild(r),s.appendChild(m),d.appendChild(s),d.appendChild(p),t.taskList.appendChild(d)}}function o(e){const t=e.target;t.classList.contains("open")?(t.classList.remove("open"),t.parentNode.nextSibling.classList.remove("show")):(t.classList.add("open"),t.parentNode.nextSibling.classList.add("show"))}function l(d){const s=t.mainTitle.textContent,n=d.target.parentNode.parentNode.dataset.index;e[s].splice(n,1),a.clearElement(t.taskList),i()}return{toggleProjectList:function(){const e=t.sidebarChevron.classList;e.contains("open")?(e.remove("open"),a.clearElement(t.projectList)):(e.add("open"),d())},displayModal:function(e){"sidebar_add-project"===e.currentTarget.id?t.modalAddProject.classList.add("show"):t.modalAddTask.classList.add("show")},updateProjectList:function(s){s.preventDefault();const n=s.target.elements[0].value;e[n]=[],t.sidebarChevron.classList.contains("open")&&(a.clearElement(t.projectList),d()),t.modalAddProject.classList.remove("show")},updateTaskList:function(d){d.preventDefault();const s=t.mainTitle.textContent,n=d.target.elements[0].value,o=d.target.elements[1].value,l=d.target.elements[2].value,c=d.target.elements[3].value;e[s].push(function(e,t,d,a,s){return{title:e,description:t,dueDate:d,priority:a,isComplete:!1}}(n,o,l,c)),a.clearElement(t.taskList),i(),t.modalAddTask.classList.remove("show")},closeModal:function(e){e.target.classList.contains("modal")?e.target.classList.remove("show"):"modal_add-project-close"==e.target.id?t.modalAddProject.classList.remove("show"):"modal_add-task-close"==e.target.id&&t.modalAddTask.classList.remove("show")}}})(),a=(t.sidebarChevron.addEventListener("click",d.toggleProjectList),t.addProjectBtn.addEventListener("click",d.displayModal),t.addTaskBtn.addEventListener("click",d.displayModal),t.modalAddProjectClose.addEventListener("click",d.closeModal),t.modalAddTaskClose.addEventListener("click",d.closeModal),window.addEventListener("click",d.closeModal),t.projectForm.addEventListener("submit",d.updateProjectList),t.taskForm.addEventListener("submit",d.updateTaskList),{clearElement:function(e){e.textContent=""}})})();