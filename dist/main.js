(()=>{let e={programming:[{title:"Learn React",description:"Begin Youtube tutorials",dueDate:"2021-04-2",priority:"medium",isComplete:!1,showDescription:!0},{title:"Todo app",description:"Finish styles and storage functionality",dueDate:"2021-03-31",priority:"high",isComplete:!1,showDescription:!1}],housework:[{title:"Wash dishes",description:"Wash all dishes in kitchen sink",dueDate:"2021-03-30",priority:"high",isComplete:!1,showDescription:!1}]};const t={sidebarChevron:document.getElementById("sidebar_chevron"),projectList:document.getElementById("sidebar_project-list"),taskList:document.getElementById("main_task-list"),mainTitle:document.getElementById("main_title"),addProjectBtn:document.getElementById("sidebar_add-project"),addTaskBtn:document.getElementById("main_add-task"),modalAddProject:document.getElementById("modal_add-project"),modalAddTask:document.getElementById("modal_add-task"),modalAddProjectClose:document.getElementById("modal_add-project-close"),modalAddTaskClose:document.getElementById("modal_add-task-close"),projectForm:document.getElementById("form-project"),taskForm:document.getElementById("form-task")},s=(()=>{function s(){const s=Object.keys(e);if(s.length>0)for(let e=0;e<s.length;e++){const d=document.createElement("li"),o=document.createElement("span"),i=document.createElement("i");o.classList.add("sidebar_project-list-name"),o.textContent=s[e],o.addEventListener("click",a),i.classList.add("fas"),i.classList.add("fa-times"),i.addEventListener("click",n),d.appendChild(o),d.appendChild(i),t.projectList.appendChild(d)}else{const e=document.createElement("li");e.textContent="No Projects To Display",t.projectList.appendChild(e)}}function a(e){t.mainTitle.textContent=e.target.textContent,d.clearElement(t.taskList),o()}function n(a){const n=a.target.previousSibling.textContent;delete e[n],d.clearElement(t.projectList),s()}function o(){const s=t.mainTitle.textContent,d=e[s];if(d.length>0)for(let e=0;e<d.length;e++){const s=document.createElement("li"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("span"),c=document.createElement("span"),r=document.createElement("i"),m=document.createElement("i"),p=document.createElement("p");s.setAttribute("data-index",e),"low"===d[e].priority?a.classList.add("priority-low"):"medium"===d[e].priority?a.classList.add("priority-medium"):a.classList.add("priority-high"),d[e].isComplete?n.classList.add("checked"):n.classList.add("unchecked"),o.textContent=d[e].title,c.textContent=d[e].dueDate,r.classList.add("fas"),r.classList.add("fa-trash-alt"),r.addEventListener("click",l),!0===d[e].showDescription&&m.classList.add("open"),m.classList.add("fas"),m.classList.add("fa-chevron-down"),m.addEventListener("click",i),!0===d[e].showDescription&&p.classList.add("show"),p.classList.add("description"),p.textContent=d[e].description,a.appendChild(n),a.appendChild(o),a.appendChild(c),a.appendChild(r),a.appendChild(m),s.appendChild(a),s.appendChild(p),t.taskList.appendChild(s)}else{const e=document.createElement("li");e.textContent="No Tasks To Display",t.taskList.appendChild(e)}}function i(s){const d=t.mainTitle.textContent,a=s.target.parentNode.parentNode.dataset.index;s.target.classList.contains("open")?(s.target.classList.remove("open"),s.target.parentNode.nextSibling.classList.remove("show"),e[d][a].showDescription=!1):(s.target.classList.add("open"),s.target.parentNode.nextSibling.classList.add("show"),e[d][a].showDescription=!0)}function l(s){const a=t.mainTitle.textContent,n=s.target.parentNode.parentNode.dataset.index;e[a].splice(n,1),d.clearElement(t.taskList),o()}return{toggleProjectList:function(){const e=t.sidebarChevron.classList;e.contains("open")?(e.remove("open"),d.clearElement(t.projectList)):(e.add("open"),s())},displayModal:function(e){"sidebar_add-project"===e.currentTarget.id?t.modalAddProject.classList.add("show"):t.modalAddTask.classList.add("show")},updateProjectList:function(a){a.preventDefault();const n=a.target.elements[0].value;e[n]=[],t.sidebarChevron.classList.contains("open")&&(d.clearElement(t.projectList),s()),t.modalAddProject.classList.remove("show")},updateTaskList:function(s){s.preventDefault();const a=t.mainTitle.textContent,n=s.target.elements[0].value,i=s.target.elements[1].value,l=s.target.elements[2].value,c=s.target.elements[3].value;e[a].push(function(e,t,s,d,a,n){return{title:e,description:t,dueDate:s,priority:d,isComplete:!1,showDescription:!1}}(n,i,l,c)),d.clearElement(t.taskList),o(),t.modalAddTask.classList.remove("show")},closeModal:function(e){e.target.classList.contains("modal")?e.target.classList.remove("show"):"modal_add-project-close"==e.target.id?t.modalAddProject.classList.remove("show"):"modal_add-task-close"==e.target.id&&t.modalAddTask.classList.remove("show")}}})(),d=(t.sidebarChevron.addEventListener("click",s.toggleProjectList),t.addProjectBtn.addEventListener("click",s.displayModal),t.addTaskBtn.addEventListener("click",s.displayModal),t.modalAddProjectClose.addEventListener("click",s.closeModal),t.modalAddTaskClose.addEventListener("click",s.closeModal),window.addEventListener("click",s.closeModal),t.projectForm.addEventListener("submit",s.updateProjectList),t.taskForm.addEventListener("submit",s.updateTaskList),{clearElement:function(e){e.textContent=""}})})();